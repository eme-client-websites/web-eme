---
import { getLangFromUrl, useTranslations } from '../i18n/utils';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

// Datos del equipo
const equipo = [
  {
    id: 'daniel',
    nombre: t('team.members.0.name') || 'Daniel Vengoechea',
    cargo: t('team.members.0.role') || 'Co-fundador, Growth Marketer y CEO',
    descripcion: t('team.members.0.description') || 'Es la mente detrás del éxito de EME, Apex AI, Gettranscribe y Elevvate. Convierte retos en oportunidades con estrategia, datos y AI. Cofundador de Apparta y speaker internacional, impulsa marcas con creatividad y tecnología de alto impacto.',
    imagen: '/DanielVengoechea.jpg',
    especialidades: ['Growth Marketing', 'AI Strategy', 'Business Development']
  },
  {
    id: 'marcela',
    nombre: t('team.members.1.name') || 'Marcela Hinestrosa',
    cargo: t('team.members.1.role') || 'Co-fundadora, Estratega de Marca y Negocios',
    descripcion: t('team.members.1.description') || 'Cree en marcas con propósito y estrategias que se sienten. Acompaña a empresas que quieren crecer con sentido, construyendo desde adentro: visión clara, estructura sólida y experiencias que conectan de verdad.',
    imagen: '/MarcelaHinestrosa.jpg',
    especialidades: ['Brand Strategy', 'Business Strategy', 'UX Strategy']
  }
];
---

<!-- Título de la sección -->
<section class="pt-20 pb-20 lg:pt-32 lg:pb-32 xl:pt-40 xl:pb-40 relative overflow-hidden" data-active="true" data-color="#FFFFFF" style="background: #030B46;">
  <!-- Efectos de luz de fondo -->
  <div class="absolute top-1/4 left-1/4 w-96 h-96 bg-[#0043FF] rounded-full mix-blend-screen filter blur-3xl opacity-5"></div>
  <div class="absolute bottom-1/4 right-1/4 w-96 h-96 bg-[#0033C4] rounded-full mix-blend-screen filter blur-3xl opacity-5"></div>

  <div class="container-custom relative z-10">
    <!-- Título de la sección -->
    <div class="pt-20 xl:pt-[8rem]">
      <div class="flex flex-wrap justify-between xl:flex-nowrap xl:gap-x-[5rem]">
        <div class="w-full xl:w-auto">
          <h2 class="text-5xl md:text-6xl lg:text-7xl xl:text-8xl font-bold flex flex-wrap items-start gap-x-3 xl:gap-x-[2.6rem] text-white leading-tight">
            {lang === 'en' ? (
              <>
                <span>A</span>
                <span>team</span>
                <span>that is</span>
                <span>anything</span>
                <span>but</span>
                <span>ordinary</span>
              </>
            ) : (
              <>
                <span>Un</span>
                <span>equipo</span>
                <span>que es</span>
                <span>todo</span>
                <span>menos</span>
                <span>ordinario</span>
              </>
            )}
          </h2>
        </div>
        <div class="w-full pt-8 xl:w-auto xl:pt-[2.08rem]">
          <p class="text-[16px] font-normal leading-[1.45em] xl:text-[1.14rem] text-gray-300">
            {t('team.subtitle') || 'Conoce a los visionarios detrás de E-me. Un dúo estratégico que combina creatividad, tecnología y datos para transformar ideas extraordinarias.'}
          </p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Grid del equipo -->
<section data-active="false" data-color="#FFFFFF" class="pt-20 pb-20 lg:pt-32 lg:pb-32 xl:pt-40 xl:pb-40" style="background: #030B46;">
  <div class="container-custom">
    <div class="grid grid-cols-1 gap-10 lg:gap-20 xl:gap-12">
      <div class="space-y-20 lg:space-y-32">
        {equipo.map((miembro, index) => (
          <div class="relative flex w-full items-center">
            <div class="absolute -top-1/2 w-full"></div>
            <div class={`flex w-full gap-x-10 xl:gap-x-16 opacity-100 transform-none items-center ${index % 2 === 1 ? 'lg:flex-row-reverse' : ''}`}>
              
              <!-- Columna de imagen -->
              <div class="w-full lg:w-1/2">
                <div class="w-full text-left group relative">
                  <div class="aspect-square w-full relative max-w-lg mx-auto">
                    <div class="flex w-full items-center justify-center">
                      <div class="w-full">
                        <div class="w-full rounded-3xl overflow-hidden relative">
                          <div class="w-full rounded-3xl overflow-hidden">
                            <div class="aspect-square h-full w-full overflow-hidden rounded-3xl">
                              <img 
                                src={miembro.imagen} 
                                alt={miembro.nombre}
                                class="w-full h-full object-cover rounded-3xl" style="object-position: 50% 15%;"
                              />
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Columna de contenido -->
              <div class="w-full lg:w-1/2">
                <div class="lg:px-8">
                  <!-- Nombre y cargo -->
                  <div class="mb-6">
                    <h3 class="text-4xl xl:text-5xl font-bold text-white mb-3 leading-tight">
                      {miembro.nombre.split(' ').map((palabra: string, i: number) => (
                        <div class="inline-flex w-auto opacity-100 transform-none mr-2">
                          {palabra}
                        </div>
                      ))}
                    </h3>
                    <p class="text-xl xl:text-2xl text-[#0043FF] font-medium mb-6">
                      {miembro.cargo}
                    </p>
                  </div>

                  <!-- Descripción -->
                  <div class="mb-8">
                    <p class="text-gray-300 text-lg xl:text-xl leading-relaxed opacity-100 transform-none">
                      {miembro.descripcion}
                    </p>
                  </div>
                  
                  <!-- Especialidades -->
                  <div class="flex flex-wrap gap-3">
                    {miembro.especialidades.map((especialidad) => (
                      <div class="inline-block overflow-hidden opacity-100 transform-none">
                        <div class="bg-white/5 px-4 py-2 text-sm font-normal text-white/80 rounded-lg hover:bg-white/10 transition-all duration-200 border border-white/10">
                          <span class="inline-block opacity-100 transform-none">{especialidad}</span>
                        </div>
                      </div>
                    ))}
                  </div>
                </div>
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </div>
</section>

<style>
  /* Efectos de hover y transiciones */
  .group:hover .aspect-square {
    transform: scale(1.02);
    transition: transform 0.3s ease;
  }

  /* Efectos de luz en hover */
  .group:hover .bg-gradient-to-br {
    box-shadow: 0 20px 40px rgba(0, 67, 255, 0.3);
    transition: box-shadow 0.3s ease;
  }

  /* Animaciones suaves para el contenido */
  .transform-none {
    transition: all 0.3s ease;
  }

  /* Efectos para las especialidades */
  .bg-white\/5:hover {
    background: rgba(255, 255, 255, 0.1);
    border-color: rgba(0, 67, 255, 0.3);
    transform: translateY(-1px);
  }

  /* Mejoras en la responsividad */
  @media (max-width: 1023px) {
    .lg\:flex-row-reverse {
      flex-direction: column !important;
    }
    
    .space-y-20 {
      gap: 3rem;
    }
    
    .lg\:space-y-32 {
      gap: 3rem;
    }
  }

  @media (max-width: 640px) {
    .aspect-square {
      max-width: 280px;
    }
    
    .text-4xl {
      font-size: 2rem;
    }
    
    .text-5xl {
      font-size: 2.5rem;
    }
    
    .lg\:px-8 {
      padding-left: 0;
      padding-right: 0;
    }
  }

  /* Efectos adicionales para mejorar la experiencia visual */
  .container-custom {
    max-width: 1400px;
    margin: 0 auto;
    padding: 0 2rem;
  }

  @media (max-width: 768px) {
    .container-custom {
      padding: 0 1.5rem;
    }
  }

  /* Animación de entrada */
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(2rem);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .opacity-100 {
    animation: fadeInUp 0.6s ease-out;
  }
</style>
